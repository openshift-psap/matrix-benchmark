setup:
  machines: local
  listen_on: localhost

plugins:
  specfem:
    key: val

machines:
  local:
    laptop: localhost
    desktop: 172.16.0.2

# ---
measurement_sets:
  all:
    - VMStat
    - MPStat
    - SpecfemAgentInterface:
        port: 1234
        mode: local
        wait_collector: true

  collector:
    - Perf_Collect:
        port: 1230
        host: laptop
        mode: laptop

    - Perf_Collect:
        port: 1230
        host: desktop
        mode: desktop

# --- #

local_agent:
  port_to_collector: 1230
  measurement_sets:
    - all

collector:
  run_as_collector: True
  measurement_sets:
    - collector

viewer:
  run_as_viewer: True

benchmark:
  run_as_benchmark: True
  measurement_sets:
    - collector
  benchmark:
    script: matrix
